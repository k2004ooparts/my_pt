import React, { useState } from 'react';

// Main App component
const App = () => {
    // State variables for user inputs and suggestions
    const [weight, setWeight] = useState('65'); // User's weight input (kg) - Default to 65 for slider
    const [bodyType, setBodyType] = useState(''); // User's body type selection
    const [age, setAge] = useState('30'); // User's age input (default to 30 for slider)
    const [gender, setGender] = useState(''); // User's gender selection
    const [healthIssues, setHealthIssues] = useState(''); // User's input for health issues/injuries
    
    // New optional state variables
    const [bmi, setBmi] = useState(''); // BMI input
    const [bodyFatPercentage, setBodyFatPercentage] = useState(''); // Body Fat Percentage input
    const [muscleMass, setMuscleMass] = useState(''); // Muscle Mass input

    const [suggestedExercises, setSuggestedExercises] = useState([]); // List of suggested exercises
    const [healthDisclaimerText, setHealthDisclaimerText] = useState(''); // Dynamic disclaimer text
    const [showModal, setShowModal] = useState(false); // State to control modal visibility
    const [modalMessage, setModalMessage] = useState(''); // Message to display in the modal

    // Define body type options for card selection
    const bodyTypeOptions = [
        { value: 'lean', label: 'ë§ˆë¥¸ ì²´í˜•' },
        { value: 'average', label: 'ë³´í†µ ì²´í˜•' },
        { value: 'chubby', label: 'í†µí†µí•œ ì²´í˜•' },
        { value: 'muscular', label: 'ê·¼ìœ¡ì§ˆ ì²´í˜•' }
    ];

    // Function to handle form submission
    const handleSubmit = (e) => {
        e.preventDefault(); // Prevent default form submission behavior

        // Input validation for mandatory fields
        if (!weight || isNaN(weight) || parseFloat(weight) <= 0) {
            setModalMessage('ëª¸ë¬´ê²Œë¥¼ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”. âš–ï¸');
            setShowModal(true);
            return;
        }
        if (!bodyType) {
            setModalMessage('ì²´í˜•ì„ ì„ íƒí•´ì£¼ì„¸ìš”. ğŸ§');
            setShowModal(true);
            return;
        }
        if (!age || isNaN(age) || parseInt(age, 10) <= 0) {
            setModalMessage('ë‚˜ì´ë¥¼ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”. ğŸ‚');
            setShowModal(true);
            return;
        }
        if (!gender) {
            setModalMessage('ì„±ë³„ì„ ì„ íƒí•´ì£¼ì„¸ìš”. ğŸš»');
            setShowModal(true);
            return;
        }

        let exercises = []; // Array to hold exercise suggestions
        let disclaimer = ''; // String to hold the disclaimer message
        const weightNum = parseFloat(weight);
        const ageNum = parseInt(age, 10);

        // --- Logic for exercise recommendation ---

        // 1. Prioritize health issues/injuries: If any health issues are noted, provide a cautious, general plan.
        if (healthIssues.trim() !== '') {
            exercises = [
                'ğŸš¨ **ê±´ê°• ë¬¸ì œ/ë¶€ìƒ íŠ¹ë³„ ê°€ì´ë“œë¼ì¸**',
                '---',
                'ğŸ“Œ **ì „ë¬¸ê°€ ìƒë‹´ í•„ìˆ˜:** í˜„ì¬ ê±´ê°• ë¬¸ì œë‚˜ ë¶€ìƒì´ ìˆìœ¼ë¯€ë¡œ, ëª¨ë“  ìš´ë™ì€ ë°˜ë“œì‹œ ì˜ì‚¬ ë˜ëŠ” ë¬¼ë¦¬ì¹˜ë£Œì‚¬ì™€ ìƒë‹´ í›„ ì§„í–‰í•´ì•¼ í•©ë‹ˆë‹¤. ê°œì¸ì—ê²Œ ë§ëŠ” ì •í™•í•œ ìš´ë™ ê³„íšì„ ì„¸ìš°ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.',
                'ğŸ¤¸â€â™‚ï¸ **ì €ê°•ë„ í™œë™ (10-20ë¶„):**',
                '  - í†µì¦ì´ ì—†ëŠ” ë²”ìœ„ ë‚´ì—ì„œ ê°€ë²¼ìš´ ê±·ê¸° (ğŸš¶), ì‹¤ë‚´ ìì „ê±° (ğŸš´), ìˆ˜ì˜ (ğŸŠâ€â™€ï¸) ë“± ì €ì¶©ê²© ìœ ì‚°ì†Œ ìš´ë™ì„ ì‹œì‘í•˜ì„¸ìš”.',
                'ğŸ§˜â€â™€ï¸ **ë¶€ë“œëŸ¬ìš´ ìŠ¤íŠ¸ë ˆì¹­:**',
                '  - í†µì¦ ì—†ëŠ” ë²”ìœ„ ë‚´ì—ì„œ ê´€ì ˆ ê°€ë™ì„±ì„ ëŠ˜ë¦¬ëŠ” ë¶€ë“œëŸ¬ìš´ ìŠ¤íŠ¸ë ˆì¹­ì„ ì²œì²œíˆ ì§„í–‰í•˜ì„¸ìš”. (ì˜ˆ: í¼ë¡¤ëŸ¬, ìš”ê°€)',
                'ğŸ©¹ **ì „ë¬¸ê°€ ì§€ë„ ì½”ì–´/ì¬í™œ:**',
                '  - ì „ë¬¸ê°€ì˜ ì§€ë„ í•˜ì— ì½”ì–´ ê°•í™” ìš´ë™ì´ë‚˜ ì¬í™œ ìš´ë™ì„ ê³ ë ¤í•˜ì„¸ìš”. (ì˜ˆ: í”Œë­í¬, ë¸Œë¦¿ì§€)',
                'âš ï¸ **ì¤‘ìš” ì£¼ì˜:** ìš´ë™ ì¤‘ í†µì¦ì´ ë°œìƒí•˜ë©´ ì¦‰ì‹œ ìš´ë™ì„ ì¤‘ë‹¨í•˜ê³  ì „ë¬¸ê°€ì˜ ë„ì›€ì„ ë°›ìœ¼ì„¸ìš”. ë¬´ë¦¬í•œ ìš´ë™ì€ ë¶€ìƒì„ ì•…í™”ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
            ];
            disclaimer = 'âš ï¸ ìœ„ í”Œëœì€ ì¼ë°˜ì ì¸ ê°€ì´ë“œë¼ì¸ì…ë‹ˆë‹¤. ê°œì¸ì˜ íŠ¹ìˆ˜í•œ ê±´ê°• ìƒíƒœë¥¼ ë°˜ë“œì‹œ ì „ë¬¸ê°€ì™€ ìƒì˜í•˜ì—¬ ì•ˆì „í•œ ìš´ë™ì„ ì§„í–‰í•˜ì„¸ìš”.';
        } else {
            // 2. No health issues: Apply logic based on age, body type, and weight.

            // Personalized opening message
            exercises.push(`âœ¨ ${ageNum}ì„¸ ${gender === 'male' ? 'ë‚¨ì„±' : 'ì—¬ì„±'} ${weightNum}kgì´ì‹  ë‹¹ì‹ ì„ ìœ„í•œ **ë§ì¶¤ ìš´ë™ í”Œëœ**ì…ë‹ˆë‹¤!`);
            
            // 3. Apply age-based modifications (general guidance) at the top of the specific plan
            if (ageNum >= 60) {
                exercises.push('ğŸ‘µğŸ‘´ **60ì„¸ ì´ìƒ íŠ¹ë³„ ì•ˆë‚´:** ìš´ë™ ê°•ë„ë¥¼ ì¡°ì ˆí•˜ê³ , ê´€ì ˆì— ë¬´ë¦¬ê°€ ê°€ì§€ ì•Šë„ë¡ íŠ¹íˆ ì£¼ì˜í•˜ì„¸ìš”. ëª¨ë“  ë™ì‘ì€ ì²œì²œíˆ ì •í™•í•˜ê²Œ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.');
            } else if (ageNum >= 40) {
                exercises.push('ğŸ§‘â€ğŸ¦±ğŸ‘©â€ğŸ¦± **40ëŒ€ ì´ìƒ íŠ¹ë³„ ì•ˆë‚´:** ê´€ì ˆ ë³´í˜¸ì™€ ìœ ì—°ì„± ìš´ë™ì— ë” ì‹ ê²½ ì¨ì£¼ì„¸ìš”. ë³¸ ìš´ë™ ì „í›„ ìŠ¤íŠ¸ë ˆì¹­ì— ì¶©ë¶„í•œ ì‹œê°„ì„ í• ì• í•˜ì„¸ìš”.');
            }

            exercises.push('---'); // Divider after initial greetings/age-specific tips

            // Initialize exercises based on body type
            switch (bodyType) {
                case 'lean': // ë§ˆë¥¸ ì²´í˜• (Lean body type) - focus on muscle gain & gentle cardio
                    exercises.push(
                        'ğŸ¯ **ì˜¤ëŠ˜ì˜ ëª©í‘œ:** ê·¼ìœ¡ëŸ‰ ì¦ëŒ€ ë° ì „ë°˜ì ì¸ ì²´ë ¥ í–¥ìƒ',
                        '---',
                        'ğŸ”¥ **ì›Œë°ì—… (5-10ë¶„):**',
                        '  - ğŸƒ ê°€ë²¼ìš´ ì¡°ê¹… ë˜ëŠ” ì œìë¦¬ ê±·ê¸° (ëª¸ì„ ê¹¨ìš°ê³  í˜ˆì•¡ìˆœí™˜ ì´‰ì§„)',
                        '  - ğŸ¤¸â€â™€ï¸ ë™ì  ìŠ¤íŠ¸ë ˆì¹­ (ê´€ì ˆ ê°€ë™ ë²”ìœ„ ë„“íˆê¸°, ë¶€ìƒ ì˜ˆë°©)',
                        'ğŸ’ª **ë³¸ ìš´ë™ (30-40ë¶„) - ê·¼ë ¥ ì§‘ì¤‘:**',
                        '  - ğŸ¦µ ìŠ¤ì¿¼íŠ¸ (ë§¨ëª¸ ë˜ëŠ” ê°€ë²¼ìš´ ì¤‘ëŸ‰): 3ì„¸íŠ¸ x 12íšŒ (í•˜ì²´ì™€ ì½”ì–´ ê°•í™”)',
                        '  - ğŸ¦µ ëŸ°ì§€ (ê° ë‹¤ë¦¬): 3ì„¸íŠ¸ x 10íšŒ (í•˜ì²´ ê· í˜• ë° ê·¼ë ¥ ì¦ëŒ€)',
                        '  - ğŸ‘ í‘¸ì‰¬ì—… (ë¬´ë¦ í‘¸ì‰¬ì—… ê°€ëŠ¥): 3ì„¸íŠ¸ x 10-12íšŒ (ìƒì²´ ì „ë©´ ë° ì½”ì–´)',
                        '  - ğŸ‹ï¸ ë¤ë²¨ ë¡œìš° (ê°€ë²¼ìš´ ì¤‘ëŸ‰): 3ì„¸íŠ¸ x 10-12íšŒ (ë“± ê·¼ìœ¡ ê°•í™”, ìì„¸ ê°œì„ )',
                        '  - ğŸ¤¸ í”Œë­í¬: 3ì„¸íŠ¸ x 30ì´ˆ ìœ ì§€ (ì½”ì–´ ì•ˆì •ì„± ê°•í™”)',
                        'ğŸš¶â€â™‚ï¸ **ìœ ì‚°ì†Œ (20-30ë¶„):**',
                        '  - ë³´í†µ ì†ë„ë¡œ ê±·ê¸° ë˜ëŠ” ê°€ë³ê²Œ ì¡°ê¹…, ì‹¤ë‚´ ìì „ê±° (ì‹¬í ì§€êµ¬ë ¥ í–¥ìƒ, ì¹¼ë¡œë¦¬ ì†Œëª¨)',
                        'ğŸ§˜â€â™€ï¸ **ì¿¨ë‹¤ìš´ (5-10ë¶„):**',
                        '  - ì „ì‹  ì •ì  ìŠ¤íŠ¸ë ˆì¹­, ì‹¬í˜¸í¡ (ê·¼ìœ¡ ì´ì™„ ë° íšŒë³µ ì´‰ì§„)',
                        'ğŸ’¡ **ì¶”ê°€ íŒ:** ìš´ë™ í›„ 30ë¶„ ì´ë‚´ ë‹¨ë°±ì§ˆ ì„­ì·¨ëŠ” ê·¼ìœ¡ íšŒë³µì— ë„ì›€ì´ ë©ë‹ˆë‹¤. ì ì§„ì ìœ¼ë¡œ íšŸìˆ˜ë‚˜ ë¬´ê²Œë¥¼ ëŠ˜ë ¤ë³´ì„¸ìš”!'
                    );
                    break;
                case 'average': // ë³´í†µ ì²´í˜• (Average body type) - balanced approach
                    exercises.push(
                        'ğŸ¯ **ì˜¤ëŠ˜ì˜ ëª©í‘œ:** ê· í˜• ì¡íŒ ê·¼ë ¥ê³¼ ìœ ì‚°ì†Œ ëŠ¥ë ¥ í–¥ìƒ',
                        '---',
                        'ğŸ”¥ **ì›Œë°ì—… (10ë¶„):**',
                        '  - ğŸ¤¸â€â™€ï¸ ë™ì  ìŠ¤íŠ¸ë ˆì¹­, ê´€ì ˆ ê°€ë™ì„± ìš´ë™',
                        '  - ğŸƒ ê°€ë²¼ìš´ ìœ ì‚°ì†Œ (ì¤„ë„˜ê¸°, ì œìë¦¬ ë›°ê¸°)ë¡œ ì‹¬ë°•ìˆ˜ ì˜¬ë¦¬ê¸°',
                        'ğŸ‹ï¸â€â™‚ï¸ **ë³¸ ìš´ë™ (40-50ë¶„) - ì „ì‹  ê· í˜•:**',
                        '  - ğŸ‹ï¸ ë²¤ì¹˜í”„ë ˆìŠ¤ ë˜ëŠ” í‘¸ì‰¬ì—…: 4ì„¸íŠ¸ x 8-10íšŒ (ê°€ìŠ´, ì–´ê¹¨, ì‚¼ë‘)',
                        '  - ğŸ‹ï¸ ë°ë“œë¦¬í”„íŠ¸ (ë°”ë²¨ ë˜ëŠ” ë¤ë²¨): 3ì„¸íŠ¸ x 8íšŒ (ì „ì‹  í›„ë©´ ì‚¬ìŠ¬ ê°•í™”, í•µì‹¬ ìš´ë™)',
                        '  - ğŸ‹ï¸ ì˜¤ë²„í—¤ë“œí”„ë ˆìŠ¤: 3ì„¸íŠ¸ x 8-10íšŒ (ì–´ê¹¨ ê·¼ë ¥ ë° ì•ˆì •ì„±)',
                        '  - ğŸ‹ï¸ ë°”ë²¨ ë¡œìš° ë˜ëŠ” ë¤ë²¨ ë¡œìš°: 3ì„¸íŠ¸ x 10íšŒ (ë“± ê·¼ìœ¡ ë°œë‹¬)',
                        '  - ğŸ¦µ ë ˆê·¸ í”„ë ˆìŠ¤ ë˜ëŠ” ìŠ¤ì¿¼íŠ¸: 3ì„¸íŠ¸ x 10íšŒ (í•˜ì²´ ì „ì²´)',
                        '  - ï¿½ ëŸ¬ì‹œì•ˆ íŠ¸ìœ„ìŠ¤íŠ¸: 3ì„¸íŠ¸ x 15íšŒ (ì–‘ìª½) (ë³µê·¼ ë° ì½”ì–´)',
                        'ğŸƒâ€â™€ï¸ **ìœ ì‚°ì†Œ (30-40ë¶„):**',
                        '  - ë‹¬ë¦¬ê¸°, ìˆ˜ì˜, ë˜ëŠ” ì¸í„°ë²Œ íŠ¸ë ˆì´ë‹ (HIIT) 20ë¶„ í›„ ì¤‘ê°•ë„ ìœ ì‚°ì†Œ 10-20ë¶„ (ì‹¬í ì§€êµ¬ë ¥ ë° ì²´ì§€ë°© ì—°ì†Œ)',
                        'ğŸ¤¸â€â™€ï¸ **ì¿¨ë‹¤ìš´ (10-15ë¶„):**',
                        '  - ì „ì‹  ì •ì  ìŠ¤íŠ¸ë ˆì¹­, í¼ë¡¤ëŸ¬ (ê·¼ìœ¡ í”¼ë¡œ í•´ì†Œ, ìœ ì—°ì„± ì¦ì§„)',
                        'ğŸ’¡ **ì¶”ê°€ íŒ:** ë‹¤ì–‘í•œ ìš´ë™ ì¢…ë¥˜ë¥¼ ì‹œë„í•˜ì—¬ ì¦ê±°ì›€ì„ ì°¾ê³ , ê¾¸ì¤€íˆ ê¸°ë¡í•˜ë©° ì„±ì¥í•˜ëŠ” ëª¨ìŠµì„ í™•ì¸í•´ë³´ì„¸ìš”!'
                    );
                    break;
                case 'chubby': // í†µí†µí•œ ì²´í˜• (Chubby body type) - focus on calorie burn, low impact
                    if (weightNum > 80) { // Higher weight, suggest lower impact cardio
                        exercises.push(
                            'ğŸ¯ **ì˜¤ëŠ˜ì˜ ëª©í‘œ:** ì²´ì§€ë°© ê°ì†Œ ë° ê´€ì ˆ ë¶€ë‹´ ìµœì†Œí™”',
                            '---',
                            'ğŸ”¥ **ì›Œë°ì—… (10-15ë¶„):**',
                            '  - ğŸš¶â€â™‚ï¸ ëŠë¦° ê±·ê¸° ë˜ëŠ” ì‹¤ë‚´ ìì „ê±°, ê´€ì ˆ ìŠ¤íŠ¸ë ˆì¹­ (ëª¸ì— ë¶€ë‹´ ì—†ì´ ì¤€ë¹„)',
                            'ğŸš¶â€â™€ï¸ **ìœ ì‚°ì†Œ (45-60ë¶„):**',
                            '  - ì €ì¶©ê²© ìœ ì‚°ì†Œ (ë¹ ë¥¸ ê±·ê¸°, ì‹¤ë‚´ ìì „ê±°, ìˆ˜ì˜)ë¡œ ê¾¸ì¤€íˆ ì§„í–‰í•˜ì„¸ìš”. (ê¾¸ì¤€í•¨ì´ ì¤‘ìš”! ì²´ì§€ë°© ì—°ì†Œì— ì§‘ì¤‘)',
                            'ğŸ’ª **ë³¸ ìš´ë™ (20-30ë¶„) - ë§¨ëª¸/ì €ê°•ë„ ê·¼ë ¥:**',
                            '  - ğŸ¦µ ë§¨ëª¸ ìŠ¤ì¿¼íŠ¸ (ì˜ì ìŠ¤ì¿¼íŠ¸ í™œìš©): 3ì„¸íŠ¸ x 12-15íšŒ (í•˜ì²´ ê¸°ë³¸ ê·¼ë ¥)',
                            '  - ğŸ¦µ ëŸ°ì§€ (ì›Œí‚¹ ëŸ°ì§€): 3ì„¸íŠ¸ x 10íšŒ (ê° ë‹¤ë¦¬) (í•˜ì²´ ë° ê· í˜•ê°ê°)',
                            '  - ğŸ‘ ì›” í‘¸ì‰¬ì—… ë˜ëŠ” ë¬´ë¦ í‘¸ì‰¬ì—…: 3ì„¸íŠ¸ x 10-12íšŒ (ìƒì²´ ê·¼ë ¥ ì…ë¬¸)',
                            '  - ğŸ‹ï¸ ì˜ì ë”¥ìŠ¤: 3ì„¸íŠ¸ x 8-10íšŒ (ì‚¼ë‘ ë° ì–´ê¹¨)',
                            '  - ğŸ¤¸ í”Œë­í¬: 3ì„¸íŠ¸ x 20-30ì´ˆ ìœ ì§€ (ì½”ì–´ ì•ˆì •ì„±)',
                            'ğŸ§˜â€â™€ï¸ **ì¿¨ë‹¤ìš´ (10-15ë¶„):**',
                            '  - ì „ì‹  ì •ì  ìŠ¤íŠ¸ë ˆì¹­ (íŠ¹íˆ í•˜ì²´, ê³ ê´€ì ˆ ìŠ¤íŠ¸ë ˆì¹­ì— ì§‘ì¤‘), ì‹¬í˜¸í¡ (ìš´ë™ í›„ ê¸´ì¥ ì™„í™”)',
                            'ğŸ’¡ **ì¶”ê°€ íŒ:** ìš´ë™ ì „í›„ ìŠ¤íŠ¸ë ˆì¹­ì€ í•„ìˆ˜! ì‹ë‹¨ ê´€ë¦¬ì™€ ë³‘í–‰í•˜ë©´ íš¨ê³¼ê°€ ë‘ ë°°ê°€ ë©ë‹ˆë‹¤.'
                        );
                    } else { // Moderately chubby, more varied cardio
                        exercises.push(
                            'ğŸ¯ **ì˜¤ëŠ˜ì˜ ëª©í‘œ:** ì²´ì§€ë°© ê°ì†Œ ë° ê·¼ë ¥ ê°•í™” ë³‘í–‰',
                            '---',
                            'ğŸ”¥ **ì›Œë°ì—… (10ë¶„):**',
                            '  - ğŸƒ ê°€ë²¼ìš´ ì¡°ê¹…, ë™ì  ìŠ¤íŠ¸ë ˆì¹­ (ëª¸ì˜ í™œì„±í™”)',
                            'ğŸƒâ€â™‚ï¸ **ìœ ì‚°ì†Œ (40-50ë¶„):**',
                            '  - ì¡°ê¹…, ìŠ¤í…í¼, ë¡œì‰ë¨¸ì‹  ë˜ëŠ” ì¸í„°ë²Œ íŠ¸ë ˆì´ë‹ (20ë¶„) í›„ ì¤‘ê°•ë„ ìœ ì‚°ì†Œ 20-30ë¶„ (ì¹¼ë¡œë¦¬ ì†Œëª¨ ê·¹ëŒ€í™”)',
                            'ğŸ‹ï¸â€â™€ï¸ **ë³¸ ìš´ë™ (30-40ë¶„) - ì „ì‹  ê·¼ë ¥:**',
                            '  - ğŸ¦µ ìŠ¤ì¿¼íŠ¸ (ë§¨ëª¸ ë˜ëŠ” ê°€ë²¼ìš´ ì¤‘ëŸ‰): 3ì„¸íŠ¸ x 10-12íšŒ (í•˜ì²´ í•µì‹¬ ìš´ë™)',
                            '  - ğŸ‹ï¸ ë¤ë²¨ ë°ë“œë¦¬í”„íŠ¸: 3ì„¸íŠ¸ x 10íšŒ (í›„ë©´ ì‚¬ìŠ¬ ê°•í™”, ì „ì‹  í˜‘ì‘ë ¥)',
                            '  - ğŸ‘ í‘¸ì‰¬ì—…: 3ì„¸íŠ¸ x 10-12íšŒ (ìƒì²´ ì „ë°˜)',
                            '  - ğŸ‹ï¸ ë¤ë²¨ ë¡œìš°: 3ì„¸íŠ¸ x 10-12íšŒ (ë“± ê·¼ìœ¡ ê°•í™”)',
                            '  - â›°ï¸ ë§ˆìš´í‹´ í´ë¼ì´ë¨¸: 3ì„¸íŠ¸ x 15íšŒ (ê° ë‹¤ë¦¬) (ì½”ì–´ ë° ì „ì‹  ìœ ì‚°ì†Œ)',
                            'ğŸ§˜â€â™‚ï¸ **ì¿¨ë‹¤ìš´ (10-15ë¶„):**',
                            '  - ì „ì‹  ì •ì  ìŠ¤íŠ¸ë ˆì¹­ (ìš´ë™ ë¶€ìœ„ ì§‘ì¤‘), ì‹¬í˜¸í¡ (ëª¸ì˜ ê¸´ì¥ ì´ì™„)',
                            'ğŸ’¡ **ì¶”ê°€ íŒ:** ìš´ë™ ëª©í‘œë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ì„¤ì •í•˜ê³ , ì£¼ 3-4íšŒ ê¾¸ì¤€íˆ ì‹¤ì²œí•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.'
                        );
                    }
                    break;
                case 'muscular': // ê·¼ìœ¡ì§ˆ ì²´í˜• (Muscular body type) - focus on maintenance, advanced, flexibility
                    exercises.push(
                        'ğŸ¯ **ì˜¤ëŠ˜ì˜ ëª©í‘œ:** ê·¼ìœ¡ëŸ‰ ìœ ì§€ ë° ê°•í™”, ìœ ì—°ì„± ì¦ì§„, íšŒë³µ ì´‰ì§„',
                        '---',
                        'ğŸ”¥ **ì›Œë°ì—… (10ë¶„):**',
                        '  - ğŸ¤¸â€â™‚ï¸ ê´€ì ˆ ê°€ë™ì„± ìš´ë™ (ì–´ê¹¨ ëŒë¦¬ê¸°, ê³ ê´€ì ˆ íšŒì „), ê°€ë²¼ìš´ ë°´ë“œ ìš´ë™ (ë³¸ê²©ì ì¸ ìš´ë™ ì „ ê·¼ìœ¡ í™œì„±í™”)',
                        'ğŸ‹ï¸â€â™‚ï¸ **ë³¸ ìš´ë™ (45-60ë¶„) - ê³ ê°•ë„ ë¶„í•  ìš´ë™ (ì˜ˆì‹œ):**',
                        '  - ğŸ‹ï¸ **ê°€ìŠ´ & ì‚¼ë‘:** ë²¤ì¹˜í”„ë ˆìŠ¤, ë¤ë²¨ í”Œë¼ì´, ì˜¤ë²„í—¤ë“œ ìµìŠ¤í…ì…˜ ë“± (3-4ì„¸íŠ¸ x 6-8íšŒ, ê³ ì¤‘ëŸ‰ ì €ë°˜ë³µìœ¼ë¡œ ê·¼ë ¥ ì§‘ì¤‘)',
                        '  - ğŸ‹ï¸ **ë“± & ì´ë‘:** í’€ì—…/ë«í’€ë‹¤ìš´, ë°”ë²¨ ë¡œìš°, ë¤ë²¨ ì»¬ ë“±',
                        '  - ğŸ‹ï¸ **í•˜ì²´ & ì–´ê¹¨:** ìŠ¤ì¿¼íŠ¸, ë°ë“œë¦¬í”„íŠ¸, ë ˆê·¸ í”„ë ˆìŠ¤, ì˜¤ë²„í—¤ë“œí”„ë ˆìŠ¤ ë“±',
                        '  - **ìš´ë™ ê°•ë„:** ìŠˆí¼ì„¸íŠ¸ ë˜ëŠ” ë“œë¡­ì„¸íŠ¸ í™œìš© ê³ ë ¤ (ê·¼ìœ¡ ì„±ì¥ ì´‰ì§„)',
                        'ğŸƒâ€â™€ï¸ **ì•¡í‹°ë¸Œ ë¦¬ì»¤ë²„ë¦¬ (20-30ë¶„):**',
                        '  - ê°€ë²¼ìš´ ìœ ì‚°ì†Œ (ì¡°ê¹…, ì‚¬ì´í´) ë˜ëŠ” ìˆ˜ì˜ (í˜ˆì•¡ìˆœí™˜ ì´‰ì§„, ê·¼ìœ¡í†µ ì™„í™”)',
                        'ğŸ¤¸â€â™€ï¸ **ìœ ì—°ì„± ë° ëª¨ë¹Œë¦¬í‹° (20ë¶„):**',
                        '  - í¼ë¡¤ëŸ¬ ë§ˆì‚¬ì§€ (ê·¼ë§‰ ì´ì™„), ë™ì  ìŠ¤íŠ¸ë ˆì¹­, ì •ì  ìŠ¤íŠ¸ë ˆì¹­ (íŠ¹íˆ ìš´ë™ ë¶€ìœ„ ì§‘ì¤‘) (ë¶€ìƒ ë°©ì§€, íšŒë³µ ê°€ì†í™”)',
                        'ğŸ **ì˜ì–‘ & íœ´ì‹:**',
                        '  - ì¶©ë¶„í•œ ë‹¨ë°±ì§ˆ ì„­ì·¨ì™€ ì§ˆ ë†’ì€ ìˆ˜ë©´ (ğŸ˜´)ì€ ê·¼ìœ¡ ì„±ì¥ê³¼ íšŒë³µì— í•„ìˆ˜ì…ë‹ˆë‹¤!'
                    );
                    break;
                default:
                    exercises = ['ì²´í˜•ì„ ì„ íƒí•´ì£¼ì„¸ìš”.'];
                    break;
            }

            disclaimer = '* ì´ í”Œëœì€ ì¼ë°˜ì ì¸ ê°€ì´ë“œë¼ì¸ì´ë©°, ê°œì¸ì˜ ê±´ê°• ìƒíƒœì™€ ìš´ë™ ëŠ¥ë ¥ì— ë”°ë¼ ì¡°ì ˆí•´ì•¼ í•©ë‹ˆë‹¤. í•„ìš”ì‹œ ì „ë¬¸ê°€ì™€ ìƒë‹´í•˜ì„¸ìš”.';
        }

        setSuggestedExercises(exercises); // Update state with generated exercises
        setHealthDisclaimerText(disclaimer); // Set the appropriate disclaimer text
    };

    // Function to handle form reset
    const handleReset = () => {
        setWeight('65'); // Reset weight to default 65
        setBodyType('');
        setAge('30'); // Reset age to default 30
        setGender('');
        setHealthIssues('');
        setBmi(''); // Reset BMI
        setBodyFatPercentage(''); // Reset Body Fat Percentage
        setMuscleMass(''); // Reset Muscle Mass
        setSuggestedExercises([]);
        setHealthDisclaimerText('');
        setShowModal(false);
        setModalMessage('');
    };

    // JSX for the main application UI
    return (
        <div className="min-h-screen bg-gradient-to-br from-purple-50 to-indigo-50 flex items-center justify-center p-4 font-inter">
            {/* Custom Styles for Slider Thumb */}
            <style>
                {`
                input[type="range"]::-webkit-slider-thumb {
                    -webkit-appearance: none;
                    width: 24px; /* Larger thumb */
                    height: 24px; /* Larger thumb */
                    background: #ffffff; /* White color */
                    border: 3px solid #3b82f6; /* Tailwind blue-500 for border */
                    border-radius: 50%;
                    cursor: grab;
                    transition: transform 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease; /* Transition border-color and box-shadow */
                    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
                    margin-top: calc(-12px + 4px); /* Center thumb vertically: -(thumb_height/2) + (track_height/2) */
                }

                input[type="range"]::-webkit-slider-thumb:active {
                    transform: scale(1.1); /* Pressing animation */
                    border-color: #1d4ed8; /* Darker blue on active (Tailwind blue-800) */
                    box-shadow: 0 4px 8px rgba(0,0,0,0.3); /* Slightly larger shadow on active */
                    cursor: grabbing;
                }

                input[type="range"]::-moz-range-thumb {
                    width: 24px; /* Larger thumb */
                    height: 24px; /* Larger thumb */
                    background: #ffffff; /* White color */
                    border: 3px solid #3b82f6; /* Tailwind blue-500 for border */
                    border-radius: 50%;
                    cursor: grab;
                    transition: transform 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease; /* Transition border-color and box-shadow */
                    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
                    margin-top: calc(-12px + 4px); /* Center thumb vertically: -(thumb_height/2) + (track_height/2) */
                }

                input[type="range"]::-moz-range-thumb:active {
                    transform: scale(1.1); /* Pressing animation */
                    border-color: #1d4ed8; /* Darker blue on active (Tailwind blue-800) */
                    box-shadow: 0 4px 8px rgba(0,0,0,0.3); /* Slightly larger shadow on active */
                    cursor: grabbing;
                }

                /* Ensure track styling if needed, though default is often fine with thumb changes */
                input[type="range"]::-webkit-slider-runnable-track {
                    height: 8px; /* Match height of track */
                    background: #e5e7eb; /* Light grey track */
                    border-radius: 4px;
                }

                input[type="range"]::-moz-range-track {
                    height: 8px; /* Match height of track */
                    background: #e5e7eb; /* Light grey track */
                    border-radius: 4px;
                }
                `}
            </style>

            <div className="bg-white p-8 rounded-2xl shadow-xl max-w-lg w-full transform transition-all duration-300 hover:scale-105">
                <h1 className="text-4xl font-extrabold text-center text-gray-800 mb-8 font-inter">
                    ë‚´ ì†ì•ˆì˜ PTìŒ¤ ğŸ‹ï¸â€â™‚ï¸
                </h1>

                {/* Input form */}
                <form onSubmit={handleSubmit} className="space-y-6">
                    {/* Age Input (Moved up) */}
                    <div>
                        <label htmlFor="age" className="block text-lg font-medium text-gray-700 mb-2">
                            ë‚˜ì´ ğŸ‚ <span className="text-red-500">*</span>
                        </label>
                        <div className="flex items-center space-x-4">
                            <input
                                type="range"
                                id="age"
                                min="10"
                                max="90"
                                value={age}
                                onChange={(e) => setAge(e.target.value)}
                                className="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 hover:border-blue-400"
                            />
                            <span className="text-2xl font-bold text-blue-600 w-12 text-right">{age}</span>
                        </div>
                    </div>

                    {/* Weight Input */}
                    <div>
                        <label htmlFor="weight" className="block text-lg font-medium text-gray-700 mb-2">
                            ëª¸ë¬´ê²Œ (kg) âš–ï¸ <span className="text-red-500">*</span>
                        </label>
                        <div className="flex items-center space-x-4">
                            <input
                                type="range"
                                id="weight"
                                min="30" // Minimum weight for slider
                                max="150" // Maximum weight for slider
                                value={weight}
                                onChange={(e) => setWeight(e.target.value)}
                                className="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 hover:border-blue-400"
                            />
                            <span className="text-2xl font-bold text-blue-600 w-12 text-right">{weight}</span>
                        </div>
                    </div>

                    <div>
                        <label className="block text-lg font-medium text-gray-700 mb-2">
                            ì„±ë³„ ğŸš» <span className="text-red-500">*</span>
                        </label>
                        <div className="flex space-x-4">
                            <div
                                className={`flex-1 p-3 rounded-xl border text-center cursor-pointer transition-all duration-200 shadow-sm
                                    ${gender === 'male' ? 'bg-blue-100 text-blue-700 border-blue-500 font-semibold' : 'bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200'}`}
                                onClick={() => setGender('male')}
                            >
                                ë‚¨ì„±
                            </div>
                            <div
                                className={`flex-1 p-3 rounded-xl border text-center cursor-pointer transition-all duration-200 shadow-sm
                                    ${gender === 'female' ? 'bg-pink-100 text-pink-700 border-pink-500 font-semibold' : 'bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200'}`}
                                onClick={() => setGender('female')}
                            >
                                ì—¬ì„±
                            </div>
                        </div>
                    </div>

                    <div>
                        <label className="block text-lg font-medium text-gray-700 mb-2">
                            ì²´í˜• ğŸ§ <span className="text-red-500">*</span>
                        </label>
                        <div className="grid grid-cols-2 gap-4"> {/* Use grid for 2-column layout */}
                            {bodyTypeOptions.map((option) => (
                                <div
                                    key={option.value}
                                    className={`p-4 rounded-xl border text-center cursor-pointer transition-all duration-200 shadow-sm
                                        ${bodyType === option.value ? 'bg-purple-100 text-purple-700 border-purple-500 font-semibold' : 'bg-gray-100 text-gray-700 border-gray-300 hover:bg-gray-200'}`}
                                    onClick={() => setBodyType(option.value)}
                                >
                                    {option.label}
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* New Optional Input Fields */}
                    <div>
                        <label htmlFor="bmi" className="block text-lg font-medium text-gray-700 mb-2">
                            BMI (ì„ íƒ ì‚¬í•­) ğŸ“Š
                        </label>
                        <input
                            type="number"
                            id="bmi"
                            value={bmi}
                            onChange={(e) => setBmi(e.target.value)}
                            placeholder="ì˜ˆ: 22.5"
                            step="0.1"
                            className="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 text-gray-900 transition-all duration-200 hover:border-blue-400"
                        />
                    </div>

                    <div>
                        <label htmlFor="bodyFatPercentage" className="block text-lg font-medium text-gray-700 mb-2">
                            ì²´ì§€ë°©ë¥  (%) (ì„ íƒ ì‚¬í•­) âœ¨
                        </label>
                        <input
                            type="number"
                            id="bodyFatPercentage"
                            value={bodyFatPercentage}
                            onChange={(e) => setBodyFatPercentage(e.target.value)}
                            placeholder="ì˜ˆ: 18.0"
                            step="0.1"
                            className="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 text-gray-900 resize-y transition-all duration-200 hover:border-blue-400"
                        />
                    </div>

                    <div>
                        <label htmlFor="muscleMass" className="block text-lg font-medium text-gray-700 mb-2">
                            ê·¼ìœ¡ëŸ‰ (kg) (ì„ íƒ ì‚¬í•­) ğŸ’ª
                        </label>
                        <input
                            type="number"
                            id="muscleMass"
                            value={muscleMass}
                            onChange={(e) => setMuscleMass(e.target.value)}
                            placeholder="ì˜ˆ: 35.0"
                            step="0.1"
                            className="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 text-gray-900 resize-y transition-all duration-200 hover:border-blue-400"
                        />
                    </div>

                    <div>
                        <label htmlFor="healthIssues" className="block text-lg font-medium text-gray-700 mb-2">
                            ë¶€ìƒì´ë‚˜ ê±´ê°• ë¬¸ì œê°€ ìˆë‹¤ë©´ ì•Œë ¤ì£¼ì„¸ìš” (ì„ íƒ ì‚¬í•­) ğŸ©¹
                        </label>
                        <textarea
                            id="healthIssues"
                            value={healthIssues}
                            onChange={(e) => setHealthIssues(e.target.value)}
                            placeholder="ì˜ˆ: ë¬´ë¦ í†µì¦, í—ˆë¦¬ ë””ìŠ¤í¬, ê³ í˜ˆì•• ë“±"
                            rows="3"
                            className="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 text-gray-900 resize-y transition-all duration-200 hover:border-blue-400"
                        ></textarea>
                    </div>

                    {/* Action Buttons */}
                    <div className="flex flex-col space-y-4 pt-4">
                        <button
                            type="submit"
                            className="w-full bg-blue-700 text-white p-4 rounded-xl font-bold text-lg shadow-xl hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-200 ease-in-out transform hover:scale-100 flex items-center justify-center space-x-2"
                        >
                            <span>ë‚˜ì˜ í”Œëœ ë°›ê¸°</span> âœ¨
                        </button>
                        <button
                            type="button"
                            onClick={handleReset}
                            className="w-full bg-gray-200 text-gray-800 p-4 rounded-xl font-bold text-lg shadow-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 transition duration-200 ease-in-out transform hover:scale-100 flex items-center justify-center space-x-2"
                        >
                            <span>ì´ˆê¸°í™”</span> ğŸ”„
                        </button>
                    </div>
                </form>

                {/* Display suggested exercises */}
                {suggestedExercises.length > 0 && (
                    <div className="mt-10 p-6 bg-blue-50 rounded-xl shadow-md border border-blue-200">
                        <h2 className="text-2xl font-bold text-blue-800 mb-4 text-center">
                            ì˜¤ëŠ˜ì˜ ìš´ë™ ì¶”ì²œ ğŸ’ª
                        </h2>
                        <ul className="list-disc list-inside space-y-2 text-gray-700">
                            {suggestedExercises.map((exercise, index) => {
                                // Handle section dividers
                                if (exercise === '---') {
                                    return <div key={index} className="w-full border-t border-gray-300 my-4"></div>;
                                }

                                let icon = '';
                                let textColorClass = 'text-gray-700'; // Default text color for exercise details
                                let actualContent = exercise;

                                // Define regex to match leading emoji and optional bolding for main headers/items
                                const emojiMatch = exercise.match(/^(âœ¨|ğŸš¨|ğŸ“Œ|ğŸ¤¸â€â™‚ï¸|ğŸ§˜â€â™€ï¸|ğŸ©¹|ğŸ”¥|ğŸ’ª|ğŸƒ|ğŸ‹ï¸|ğŸš¶â€â™‚ï¸|ğŸ|ğŸ‘µğŸ‘´|ğŸ§‘â€ğŸ¦±ğŸ‘©â€ğŸ¦±|ğŸ¦µ|ğŸ‘|ğŸŒ€|â›°ï¸|ğŸŠâ€â™€ï¸|ğŸš´)\s?/);
                                
                                if (emojiMatch) {
                                    icon = emojiMatch[1]; // The matched emoji
                                    actualContent = exercise.substring(emojiMatch[0].length); // Content after the emoji
                                    
                                    // Determine text color based on leading emoji for emphasis
                                    if (icon === 'âœ¨') textColorClass = 'text-blue-700';
                                    else if (icon === 'ğŸš¨' || icon === 'ğŸ“Œ' || icon === 'âš ï¸') textColorClass = 'text-red-600';
                                    else if (icon === 'ğŸ¤¸â€â™‚ï¸' || icon === 'ğŸ§˜â€â™€ï¸') textColorClass = 'text-teal-600'; // Warm-up/Cool-down general
                                    else if (icon === 'ğŸ©¹') textColorClass = 'text-orange-500'; // Recovery/Guidance
                                    else if (icon === 'ğŸ”¥') textColorClass = 'text-orange-600'; // Goal/Main section header
                                    else if (icon === 'ğŸ’ª' || icon === 'ğŸ‹ï¸') textColorClass = 'text-purple-600'; // Strength/Workout
                                    else if (icon === 'ğŸƒ' || icon === 'ğŸš¶â€â™‚ï¸' || icon === 'ğŸŠâ€â™€ï¸' || icon === 'ğŸš´') textColorClass = 'text-blue-600'; // Cardio
                                    else if (icon === 'ğŸ' || icon === 'ğŸ˜´') textColorClass = 'text-lime-600'; // Nutrition/Rest
                                    else if (icon === 'ğŸ‘µğŸ‘´' || icon === 'ğŸ§‘â€ğŸ¦±ğŸ‘©â€â€ğŸ¦±') textColorClass = 'text-gray-600'; // Age specific
                                    else if (icon === 'ğŸ¦µ' || icon === 'ğŸ‘' || icon === 'ğŸŒ€' || icon === 'â›°ï¸') textColorClass = 'text-indigo-600'; // Specific exercises
                                } else {
                                    // Default bullet for items without a specific leading emoji
                                    icon = 'â–ª';
                                    textColorClass = 'text-blue-700';
                                }

                                // Convert markdown bolding (**text**) to HTML <strong>
                                const renderedContent = actualContent.replace(/\*\*([^\*]+)\*\*/g, '<strong>$1</strong>');

                                return (
                                    <li key={index} className="flex items-start my-2"> {/* Added my-2 for more spacing */}
                                        <span className={`mr-2 ${textColorClass}`}>
                                            {icon === 'â–ª' ? icon : <span className="inline-block w-6 text-center">{icon}</span>}
                                        </span>
                                        <span className="flex-1" dangerouslySetInnerHTML={{ __html: renderedContent }} />
                                    </li>
                                );
                            })}
                        </ul>
                        <p className={`mt-4 text-sm text-center italic ${healthIssues.trim() !== '' ? 'text-red-600 font-semibold' : 'text-gray-600'}`}>
                            {healthDisclaimerText}
                        </p>
                    </div>
                )}

                {/* Custom Modal for alerts */}
                {showModal && (
                    <div className="fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50">
                        <div className="bg-white p-6 rounded-lg shadow-xl max-w-sm w-full text-center">
                            <h3 className="text-xl font-bold text-gray-800 mb-4">ì•Œë¦¼ ğŸ””</h3>
                            <p className="text-gray-700 mb-6">{modalMessage}</p>
                            <button
                                onClick={() => setShowModal(false)}
                                className="bg-blue-600 text-white py-2 px-6 rounded-lg font-semibold hover:bg-blue-700 transition duration-200"
                            >
                                í™•ì¸
                            </button>
                        </div>
                    </div>
                )}
            </div>
            {/* Tailwind CSS Script for compilation */}
            <script src="https://cdn.tailwindcss.com"></script>
        </div>
    );
};

export default App;
ï¿½
